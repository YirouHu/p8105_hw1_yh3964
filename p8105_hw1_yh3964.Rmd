---
title: "P8105 Homework1"
author: "Yirou Hu"
date: "2025-09-14"
output: github_document
---
```{r}
library(moderndive)
library(tidyverse)
```
# Problem 1

## Load the dataset "early_january_weather"

```{r}
data("early_january_weather")
```

## Description of the dataset
 
This dataset is a weather-related dataset which contains the information about the hourly  `r nrow(early_january_weather)` observations about the first fifteen days of January. Given that 15 days have 360 hours, two observations seem to be missing in this dataset. Additionally, this dataset's mean temperature is `r round(mean(pull(early_january_weather, temp)))` F. The dataset has `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` columns, and the detailed information is as follows:

origin: The origin variable, which indicates the source from which the weather data comes, is of the `r typeof(early_january_weather$origin)` type.

year: Year variable represents the year of the data.In this dataset, they are from the 2013.

month: Month variable denotes the month of the year, which is January in this dataset.

day: Day variable represents the day of January, it has a range of `r range(early_january_weather$day)`.

hour: Hour variable represents the time within each day, whose range is `r range(early_january_weather$hour)`.

temp: This variable represents the temperature with degrees Fahrenheit, ranging from `r min(early_january_weather$temp)` to `r max(early_january_weather$temp)`.

dewp: This variable is the dew point temperature degrees with degrees in Fahrenheit, ranging from `r min(early_january_weather$dewp)` to `r max(early_january_weather$dewp)`.

humid: This variable represents the humidity level, with a range of `r min(early_january_weather$humid)` to `r max(early_january_weather$humid)`.

wind_dir: This variable represents wind direction. It has missing value in this dataset. Moreover, it ranges from `r min(early_january_weather$wind_dir,na.rm=T)` to `r max(early_january_weather$wind_dir,na.rm=T)`.

wind_speed: This variable represents the speed of wind with a range of `r min(early_january_weather$wind_speed)` to `r max(early_january_weather$wind_speed)`.

wind_gust: This variable has missing value in this dataset. It has a range from `r min(early_january_weather$wind_gust,na.rm=T)` to `r max(early_january_weather$wind_gust,na.rm=T)`.

precip: This variable has a range from `r min(early_january_weather$precip)` to `r max(early_january_weather$precip)` with the meaning of hourly precipitation.

pressure: Pressure variable measures atmospheric pressure with a range from `r min(early_january_weather$pressure,na.rm=T)` to `r max(early_january_weather$pressure,na.rm=T)`. There are missing values in this variable.

visib: This variable indicates visibility in miles degree.

time_hour: This variable indicates the time and date of each observation.


## Next, we have a scatterplot of temperature regarding time with humidity color. 

```{r scatterplot}
ggplot(early_january_weather, aes(x = time_hour, y = temp, color = humid)) + 
  geom_point()+ labs(x = "Time_Hour", y = "Temperature")

ggsave("p8105_hw1_yh3964_scatterplot.pdf")
```

From the scatterplot of temperature vs time, we can see clear temperature patterns throughout the day: temperatures reach lowest in the late night. As morning comes and the sun rises, temperatures go up with a peak around noon, indicating the hottest time of the day. After that, they slowly drop as the day goes on. In addition, temperatures showed an overall upward trend for the first half of January. Notably, the fluctuations of the begin, middle and the end of 15 days are relatively big. From January 11th to January 14th, humidity levels were elevated compared to January 3rd. 

# Problem 2

In this problem, we will create a new dataframe.

## Create a data frame

```{r}
df_problem2 = 
  tibble(
    random_sample = rnorm(10),
    logical_vector = random_sample > 0,
    character_vector = c("Apple", "Banana", "Orange", "Mango", "Pear", 
            "Peach", "Grape", "Plum", "Lemon", "Cherry"),
    factor_vector = factor(c("Level 1", "Level 1", "Level 1", "Level 2", "Level 2", "Level 2", "Level 2", "Level 3", "Level 3", "Level 3"))
  )
```

## Calculate the mean of each variable in the dataframe

```{r}
mean(pull(df_problem2, random_sample))
mean(pull(df_problem2, logical_vector))
mean(pull(df_problem2, character_vector))
mean(pull(df_problem2, factor_vector))
```

As shown in the answer above, the mean can be calculated for `random_sample` and `logical_vector`, but not for `character_vector` and `factor_vector`. This is because `random_sample` is a numerical variable, and `logical_vector` contains 0 and 1 (with 1 representing TRUE and 0 representing FALSE). Hence, R computes `logical_vector` as the mean of the combination of 0 and 1.  In contrast, `character_vector` and `factor_vector` return NA when their mean is calculated, as they are neither logical nor numerical variables. Thus, only the mean of `random_sample` and `logical_vector` can be computed.

## Convert variables

We use `as.numeric` to convert the type of each variables. We want to show the code without output by choosing `results="hide"`, `warning=FALSE`, and `message=FALSE`.

```{r results = 'hide', warning = FALSE, message = FALSE}
as.numeric(pull(df_problem2, random_sample))
as.numeric(pull(df_problem2, logical_vector))
as.numeric(pull(df_problem2, character_vector))
as.numeric(pull(df_problem2, factor_vector))
```

By applying `as.numeric` to each variable, we can find that `logical_vector` is converted successfully with 0 for False and 1 for True. When I convert a character variable, it shows `NA`. This shows that we can not convert a character variable. Moreover, we find that the factor variable `factor_vector` is converted successfully. R converts the levels of the factor to a numeric representation. In this case, 
factor variables take the value of `1` for `Level 1`, `2` for `Level 2` and `3` for `Level 3`.

Converting variables using `as.numeric` can help explain what happens when I try to calculate the mean. R only successfully computes the mean for numeric or logical variables. For character and factor variables, `mean()` fails to give an answer unless the user explicitly converts them with a clear numeric interpretation. Transforming these variables into numeric form allows them to be used in calculations, but it is important to confirm that the resulting values have a meaningful interpretation for computing the mean.






